# 2021秋逆向工程实验一

#### 修改编译选项

<img src="img\修改编译选项.png" alt="修改编译选项" style="zoom:60%;" />



#### 运行与调试

在程序的运行过程中，发生频繁变化大小的是ESP寄存器，每次的push、pop以及调用函数时，ESP的值都会发生变化。ESB一般由于保存ESP的值，每一次调用新的函数时，都会执行mov ebp，esp这一操作，函数返回时再执行mov esp，ebp，除此之外还有EDI、EBX、ESI等寄存器

#### 

#### Q&A：

###### Q1：什么是栈帧？

###### A1：栈帧是利用EBP寄存器访问局部变量、参数、函数返回地址等的手段

###### Q2：EBP寄存器在函数调用过程中的变化过程？

A2：调用函数时ESP获得栈顶的值，并将这个值赋给EBP。在函数调用结束（return）时，EBP将自身值赋给ESP。

Q3：EBP寄存器的作用是什么？

A3：保存ESP的值，实际上是保存了局部变量、参数或函数返回地址，让ESP可以安全的访问

Q4：函数局部变量和参数的保存位置、访问方式是什么？

A4：

Q5：未赋初始值的局部变量的值是如何形成的？

A5：未赋初始值的局部变量也会被分配一个地址，但不会入栈。由于栈的大小只由指针位置决定，因此在对应位置上，这个变量会获得上一次保留而未释放的值。